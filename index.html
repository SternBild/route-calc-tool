<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>路程計算ツール</title>
<link rel="stylesheet" href="css/styles.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div id="container">
<h1>路程計算ツール
    <span id="version"></span>
    <button id="printButton" onclick="printPDF()">PDF出力</button>
</h1>
<div id="mainContainer">
    <div id="mapContainer">
        <canvas id="map" width="1000" height="640"></canvas>
        <div id="zoomInfo">倍率: 100%</div>
    </div>
    <div id="rightPanel">
        <div id="info">
            <h4>選択地点</h4>
            <div>出発地点: <span id="startNode">未選択</span></div>
            <div>中継地点: <span id="viaNodeList">なし</span></div>
            <div>到着地点: <span id="endNode">未選択</span></div>
        </div>
        <div id="controls">
            <h4>操作</h4>
            <button onclick="calculatePath()">経路を計算</button>
            <button onclick="clearAll()">選択地点をクリア</button>
            <button onclick="resetView()">表示位置リセット</button>
        </div>
        <div id="roadOptions">
            <h4>設定</h4>
            <label><input type="checkbox" id="avoidMountain" checked> 山道を使用しない</label>
            <label><input type="checkbox" id="carFare30" checked> 車賃単価30円</label>
        </div>
        <div id="operationInfo">
            <h4>操作方法</h4>
            <div style="font-size: 12px; line-height: 1.4;">
                <div style="margin-bottom: 8px;"><strong>地点選択：</strong> 地図上の地点をクリックして出発地点、到着地点、中継地点を選択</div>
                <div style="margin-bottom: 8px;"><strong>地図操作：</strong> マウスホイールで拡大縮小、ドラッグで地図移動</div>
                <div style="margin-bottom: 8px;"><strong>経路計算：</strong> 出発地点と到着地点を選択後、「経路を計算」ボタンをクリック</div>
                <div style="margin-bottom: 8px;"><strong>経路選択：</strong> 複数の経路候補から任意の経路をクリックして選択・表示</div>
                <div style="margin-bottom: 8px; padding: 8px; background-color: #fff3cd; border-radius: 4px; border: 1px solid #ffeaa7;">
                    <strong style="color: #856404;">注意：</strong> <span style="color: #856404;">中継地点は最大5つまで選択可能です。中継地点を選択した場合は、最短距離の経路のみが計算されます</span>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="result"></div>
</div>

<!-- 設定ファイルを読み込み -->
<script src="js/config.js"></script>
<!-- データファイルを読み込み -->
<script src="js/data.js"></script>
<!-- メインスクリプトを読み込み -->
<script src="js/script.js"></script>
</body>
</html>